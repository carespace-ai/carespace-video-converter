<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CareSpace Video Converter</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: #0f0f0f;
      color: #e5e5e5;
      -webkit-app-region: drag;
      user-select: none;
      height: 100vh;
      overflow: hidden;
    }

    .app {
      display: flex;
      flex-direction: column;
      height: 100vh;
      padding: 48px 24px 24px;
    }

    h1 {
      font-size: 18px;
      font-weight: 600;
      color: #fff;
      margin-bottom: 4px;
    }

    .subtitle {
      font-size: 12px;
      color: #666;
      margin-bottom: 24px;
    }

    .drop-zone {
      -webkit-app-region: no-drag;
      border: 2px dashed #333;
      border-radius: 12px;
      padding: 40px 20px;
      text-align: center;
      cursor: pointer;
      transition: all 0.2s;
      flex-shrink: 0;
    }

    .drop-zone:hover, .drop-zone.drag-over {
      border-color: #6847C6;
      background: rgba(104, 71, 198, 0.05);
    }

    .drop-zone .icon { font-size: 32px; margin-bottom: 8px; }
    .drop-zone .label { font-size: 14px; color: #999; }
    .drop-zone .hint { font-size: 11px; color: #555; margin-top: 4px; }

    .options {
      -webkit-app-region: no-drag;
      display: flex;
      gap: 12px;
      margin-top: 16px;
      flex-shrink: 0;
    }

    .option {
      flex: 1;
      background: #1a1a1a;
      border: 1px solid #2a2a2a;
      border-radius: 8px;
      padding: 12px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .option:hover { border-color: #444; }
    .option.selected { border-color: #6847C6; background: rgba(104, 71, 198, 0.1); }

    .option .format { font-size: 13px; font-weight: 600; color: #fff; }
    .option .desc { font-size: 11px; color: #666; margin-top: 2px; }

    .settings {
      -webkit-app-region: no-drag;
      display: flex;
      gap: 12px;
      margin-top: 12px;
      flex-shrink: 0;
    }

    .setting {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .setting label {
      font-size: 11px;
      color: #666;
    }

    .setting select, .setting input {
      background: #1a1a1a;
      border: 1px solid #2a2a2a;
      border-radius: 6px;
      color: #e5e5e5;
      padding: 6px 8px;
      font-size: 12px;
      outline: none;
    }

    .setting select:focus, .setting input:focus {
      border-color: #6847C6;
    }

    .output-dir {
      -webkit-app-region: no-drag;
      display: flex;
      align-items: center;
      gap: 8px;
      margin-top: 12px;
      flex-shrink: 0;
    }

    .output-dir .path {
      flex: 1;
      background: #1a1a1a;
      border: 1px solid #2a2a2a;
      border-radius: 6px;
      padding: 8px 10px;
      font-size: 12px;
      color: #888;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .btn {
      -webkit-app-region: no-drag;
      padding: 8px 16px;
      border-radius: 8px;
      border: none;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn-secondary {
      background: #1a1a1a;
      color: #e5e5e5;
      border: 1px solid #2a2a2a;
    }

    .btn-secondary:hover { border-color: #444; }

    .btn-primary {
      background: #6847C6;
      color: #fff;
      width: 100%;
      padding: 12px;
      margin-top: 16px;
      font-size: 14px;
      font-weight: 600;
      border-radius: 10px;
      flex-shrink: 0;
    }

    .btn-primary:hover { background: #7c5dd4; }
    .btn-primary:disabled { opacity: 0.4; cursor: not-allowed; }

    .file-list {
      -webkit-app-region: no-drag;
      flex: 1;
      overflow-y: auto;
      margin-top: 16px;
      min-height: 0;
    }

    .file-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 12px;
      background: #1a1a1a;
      border-radius: 8px;
      margin-bottom: 6px;
    }

    .file-item .name {
      flex: 1;
      font-size: 12px;
      color: #ccc;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .file-item .meta {
      font-size: 11px;
      color: #555;
      flex-shrink: 0;
    }

    .file-item .alpha-badge {
      font-size: 10px;
      padding: 2px 6px;
      border-radius: 4px;
      font-weight: 600;
      flex-shrink: 0;
    }

    .alpha-badge.has-alpha { background: rgba(34, 197, 94, 0.15); color: #22c55e; }
    .alpha-badge.no-alpha { background: rgba(239, 68, 68, 0.15); color: #ef4444; }

    .file-item .remove {
      -webkit-app-region: no-drag;
      background: none;
      border: none;
      color: #555;
      cursor: pointer;
      font-size: 16px;
      padding: 0 4px;
    }

    .file-item .remove:hover { color: #ef4444; }

    .progress-bar {
      height: 4px;
      background: #2a2a2a;
      border-radius: 2px;
      margin-top: 6px;
      overflow: hidden;
    }

    .progress-bar .fill {
      height: 100%;
      background: #6847C6;
      border-radius: 2px;
      transition: width 0.3s;
    }

    .status {
      font-size: 11px;
      margin-top: 4px;
    }

    .status.success { color: #22c55e; }
    .status.error { color: #ef4444; }
    .status.converting { color: #6847C6; }
    .status.cancelled { color: #f59e0b; }

    .file-item.active {
      border-left: 3px solid #6847C6;
    }

    .batch-progress {
      -webkit-app-region: no-drag;
      margin-top: 12px;
      flex-shrink: 0;
    }

    .batch-counter {
      font-size: 12px;
      color: #999;
      margin-bottom: 4px;
    }

    .batch-bar {
      height: 6px;
      background: #2a2a2a;
      border-radius: 3px;
      overflow: hidden;
    }

    .batch-bar .fill {
      height: 100%;
      background: #6847C6;
      border-radius: 3px;
      transition: width 0.3s;
    }

    .batch-summary {
      -webkit-app-region: no-drag;
      margin-top: 12px;
      padding: 12px;
      background: #1a1a1a;
      border: 1px solid #2a2a2a;
      border-radius: 8px;
      font-size: 12px;
      color: #ccc;
      flex-shrink: 0;
    }

    .batch-summary .counts {
      display: flex;
      gap: 16px;
    }

    .batch-summary .counts span { font-weight: 600; }
    .batch-summary .counts .succeeded { color: #22c55e; }
    .batch-summary .counts .failed { color: #ef4444; }
    .batch-summary .counts .cancelled { color: #f59e0b; }

    .btn-primary.cancel-mode {
      background: #dc2626;
    }

    .btn-primary.cancel-mode:hover {
      background: #ef4444;
    }
  </style>
</head>
<body>
  <div class="app">
    <h1>Video Converter</h1>
    <p class="subtitle">ProRes 4444 with alpha â†’ WebM VP9 / HEVC alpha</p>

    <div class="drop-zone" id="dropZone">
      <div class="icon">ðŸŽ¬</div>
      <div class="label">Drop .mov files here or click to browse</div>
      <div class="hint">ProRes 4444 with alpha channel recommended</div>
    </div>

    <div class="options">
      <div class="option selected" id="optWebM" data-format="webm">
        <div class="format">WebM VP9</div>
        <div class="desc">Chrome, Firefox, Edge</div>
      </div>
      <div class="option selected" id="optHEVC" data-format="hevc">
        <div class="format">HEVC Alpha</div>
        <div class="desc">Safari fallback</div>
      </div>
    </div>

    <div class="settings">
      <div class="setting">
        <label>Bitrate</label>
        <select id="bitrate">
          <option value="1M">1 Mbps (small)</option>
          <option value="2M" selected>2 Mbps (balanced)</option>
          <option value="4M">4 Mbps (quality)</option>
          <option value="6M">6 Mbps (high)</option>
        </select>
      </div>
      <div class="setting">
        <label>CRF (lower = better)</label>
        <select id="crf">
          <option value="20">20 (high quality)</option>
          <option value="25">25 (good)</option>
          <option value="30" selected>30 (balanced)</option>
          <option value="35">35 (small file)</option>
        </select>
      </div>
    </div>

    <div class="output-dir">
      <div class="path" id="outputPath">Same as input file</div>
      <button class="btn btn-secondary" id="btnOutputDir">Change</button>
    </div>

    <div class="file-list" id="fileList"></div>

    <div id="batchProgress"></div>
    <div id="batchSummary"></div>

    <button class="btn btn-primary" id="btnConvert" disabled>Convert</button>
  </div>

  <script src="./renderer.js"></script>
</body>
</html>
